<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>页面未找到 - 文浩的技术博客</title>
    <style>
        body {
            font-family: "PingFang SC", "Microsoft YaHei", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            text-align: center;
            padding: 50px;
            line-height: 1.6;
        }
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        p {
            font-size: 18px;
            margin-bottom: 30px;
        }
        a {
            color: #0066cc;
            text-decoration: none;
            font-weight: bold;
        }
        a:hover {
            text-decoration: underline;
        }
        #content {
            max-width: 800px;
            margin: 0 auto;
        }
        main {
            margin-top: 30px;
        }
        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0066cc;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <script>
        // 特殊处理中文URL的问题
        function handleSpecialUrls() {
            const path = window.location.pathname;
            
            // 处理旧的分类URL，重定向到新的cat页面
            if (path.includes('/categories/')) {
                try {
                    const categoryPart = path.split('/categories/')[1];
                    const categoryName = categoryPart.split('/')[0];
                    
                    if (categoryName) {
                        // 尝试解码中文分类名
                        try {
                            const decodedName = decodeURIComponent(categoryName);
                            window.location.href = '/cat/?name=' + decodedName;
                            return true;
                        } catch (e) {
                            console.error('解码分类名称失败:', e);
                            // 如果解码失败，直接使用原始名称
                            window.location.href = '/cat/?name=' + categoryName;
                            return true;
                        }
                    }
                } catch (e) {
                    console.error('处理分类URL时出错:', e);
                }
            }
            
            return false;
        }
        
        window.onload = function() {
            // 先检查是否为特殊URL
            if (handleSpecialUrls()) {
                return;
            }
            
            // 如果不是特殊URL，加载主脚本以处理其他重定向
            const script = document.createElement('script');
            script.src = '/js/script.js';
            document.head.appendChild(script);
        }
    </script>
</head>
<body>
    <div id="content">
        <h1>404 - 页面未找到</h1>
        <p>正在检查路径和重定向可能性...</p>
        <div class="loading-spinner"></div>
        <main></main>
        <p><a href="/">返回首页</a></p>
    </div>
</body>
</html> 